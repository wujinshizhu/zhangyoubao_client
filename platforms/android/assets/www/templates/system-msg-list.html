<ion-view view-title="<B>系统消息</B>" class="light-bg">

  <ion-nav-buttons side="left">
    <!--如何在tempalte中使用rootScope的经典例子-->
    <a class="button button-clear icon ion-ios-arrow-back" ng-click="$root.goBack()"></a>
  </ion-nav-buttons>

  <ion-nav-buttons side="right">
        <span class="button button-small" ng-click="onClearAll()">
            <i>清空</i>
        </span>
  </ion-nav-buttons>

  <ion-content overflow-scroll="false">
      <div style="text-align: center" ng-if="!systemMsgs">
        <div style="margin: 30px 0">
          <img ng-src="img/talk_2.png" width="50%">
        </div>

        您暂时还未收到系统消息~~
      </div>

      <ion-list ng-if="systemMsgs">
          <ion-item class="item-remove-animate item-icon-left item-icon-right" ng-repeat="msg in systemMsgs track by $index" ng-click="onMsgClick($index)">
              <i class="icon ion-email-unread energized" ng-if="!msg.has_read"></i>
              <i class="icon ion-email energized" ng-if="msg.has_read"></i>
              <i style="font-size: 14px" class="no_text_ellipsis">{{msg.content}}</i>
              <br>
              <i class="tip">{{msg.msg_create_time}}</i>
              <i class="icon ion-chevron-right icon-accessory"></i>

              <ion-option-button class="button-assertive" ng-click="removeSysMsg($index)">
                删除
              </ion-option-button>
          </ion-item>
      </ion-list>
  </ion-content>

</ion-view>
